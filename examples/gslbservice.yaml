---
- name: Sample gslbservice playbook
  hosts: demo_netscalers
  gather_facts: false
  tasks:
    - name: Configure gslbsite
      delegate_to: localhost
      netscaler.adc.gslbsite:
        state: present
        nsip: "{{nsip}}"
        nitro_user: "{{nitro_user}}"
        nitro_pass: "{{nitro_pass}}"
        validate_certs: no
        sitename: GSLB_Site_USE2
        siteipaddress: 10.76.126.88
        publicip: 10.76.126.5
        triggermonitor: MEPDOWN_SVCDOWN
        sitepassword: 1234

    - name: Configure gslbservice
      delegate_to: localhost
      netscaler.adc.gslbservice:
        state: present
        nsip: "{{nsip}}"
        nitro_user: "{{nitro_user}}"
        nitro_pass: "{{nitro_pass}}"
        validate_certs: no
        servicename: GSLB_SVC_USE2_storefront.citrix.com
        ip: 10.76.126.10
        servicetype: SSL
        port: 443
        publicip: 10.76.126.5
        publicport: 443
        maxclient: '0'
        sitename: GSLB_Site_USE2
        clttimeout: 180
        svrtimeout: 360
        downstateflush: ENABLED

---
- name: Sample analyticsprofile playbook
  hosts: demo_netscalers
  gather_facts: false
  tasks:
    - name: Configure analyticsprofile
      delegate_to: localhost
      netscaler.adc.analyticsprofile:
        state: present
        name: splunk_mgmtlog_prof
        collectors: splunk_http_8088
        type: timeseries
        analyticsendpointmetadata: '{"source":"netscaler","sourcetype":"mgmtlog","index":"ns-mgmt-logs"}'
        analyticsauthtoken: REQ_PASSWORD
        analyticsendpointurl: /services/collector/event
        analyticsendpointcontenttype: application/json
